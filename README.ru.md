# tg_bot_clawd ‚Äî –±—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫ (RU)

–ú–∏–Ω–∏–º—É–º –¥–µ–π—Å—Ç–≤–∏–π, –º–∞–∫—Å–∏–º—É–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞.

> –ê–Ω–≥–ª–∏–π—Å–∫–∞—è –≤–µ—Ä—Å–∏—è: `README.md`

## –ß—Ç–æ —ç—Ç–æ

Telegram-–±–æ—Ç —Å –∫–∞–ª–µ–Ω–¥–∞—Ä—ë–º/–∑–∞–º–µ—Ç–∫–∞–º–∏ + —É–º–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–æ–π:
- —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö –∫–æ–º–∞–Ω–¥ (RU/EN),
- –≥–æ–ª–æ—Å–æ–≤—ã—Ö,
- PDF,
- —Ñ–æ—Ç–æ/–∞—Ñ–∏—à.

–ë–æ—Ç —É–º–µ–µ—Ç –∏–∑–≤–ª–µ–∫–∞—Ç—å —Å–æ–±—ã—Ç–∏—è (–¥–∞—Ç–∞, –≤—Ä–µ–º—è, –æ–ø–∏—Å–∞–Ω–∏–µ, –∞–¥—Ä–µ—Å) –∏ –∑–∞–ø–∏—Å—ã–≤–∞—Ç—å –∏—Ö –≤ –∫–∞–ª–µ–Ω–¥–∞—Ä—å (PostgreSQL).

---

## 1) –ß—Ç–æ –Ω—É–∂–Ω–æ –∑–∞—Ä–∞–Ω–µ–µ

- Linux (Ubuntu/Debian)
- `python3`, `python3-venv`, `python3-pip`, `git`, `ffmpeg`
- PostgreSQL (–ª–æ–∫–∞–ª—å–Ω–æ –∏–ª–∏ —É–¥–∞–ª—ë–Ω–Ω–æ)
- Telegram Bot Token –æ—Ç `@BotFather`
- –í–∞—à Telegram ID (`tg_id`)
- **OpenClaw —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ** (–¥–ª—è ¬´—É–º–Ω–æ–≥–æ¬ª —Å–ª–æ—è)

---

## 2) –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –ø–∞–∫–µ—Ç–æ–≤

```bash
sudo apt update
sudo apt install -y git python3 python3-venv python3-pip ffmpeg postgresql-client
```

–ï—Å–ª–∏ PostgreSQL –Ω–∞ —Ç–æ–º –∂–µ —Å–µ—Ä–≤–µ—Ä–µ:

```bash
sudo apt install -y postgresql
```

–ü—Ä–æ–≤–µ—Ä–∫–∞ OpenClaw:

```bash
openclaw --version
```

---

## 3) (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) —Å–æ–∑–¥–∞—Ç—å –ë–î –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

```bash
sudo -u postgres psql
```

```sql
CREATE USER clawd_bot WITH PASSWORD 'ChangeMe_Strong_123!';
CREATE DATABASE clawd_bot OWNER clawd_bot;
GRANT ALL PRIVILEGES ON DATABASE clawd_bot TO clawd_bot;
\q
```

---

## 4) –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–µ–∫—Ç

```bash
git clone https://github.com/Ckobah/ClawPlanner ~/tg_bot_clawd
cd ~/tg_bot_clawd
```

---

## 5) –ó–∞–ø–æ–ª–Ω–∏—Ç—å `.env` –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ

```bash
./scripts/configure.sh
```

–ß—Ç–æ —Å–ø—Ä–æ—Å–∏—Ç:
- `TG_BOT_TOKEN`
- `ALLOWED_TG_IDS` (–æ–±—ã—á–Ω–æ —Ç–æ–ª—å–∫–æ –≤–∞—à `tg_id`)
- `DB_HOST`, `DB_PORT`, `DB_NAME`, `DB_USERNAME`, `DB_PASSWORD`
- `WHISPER_MODEL`, `WHISPER_LANGUAGE`

---

## 6) –û–¥–Ω–∞ –∫–æ–º–∞–Ω–¥–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∏ –∑–∞–ø—É—Å–∫–∞

```bash
./scripts/install.sh
```

–°–∫—Ä–∏–ø—Ç —Å–∞–º:
- —Å–æ–∑–¥–∞—Å—Ç `.venv`,
- —É—Å—Ç–∞–Ω–æ–≤–∏—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏,
- –ø—Ä–∏–º–µ–Ω–∏—Ç –º–∏–≥—Ä–∞—Ü–∏–∏,
- —Å–æ–∑–¥–∞—Å—Ç `systemd --user` —Å–µ—Ä–≤–∏—Å `tg-bot-clawd.service`,
- –∑–∞–ø—É—Å—Ç–∏—Ç —Å–µ—Ä–≤–∏—Å,
- –Ω–∞—Å—Ç—Ä–æ–∏—Ç cron –¥–ª—è –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π.

---

## 7) –ü—Ä–æ–≤–µ—Ä–∫–∞

```bash
./scripts/check.sh
systemctl --user status tg-bot-clawd.service --no-pager -n 30
journalctl --user -u tg-bot-clawd.service -n 50 --no-pager
```

---

## 8) –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ Telegram

–í `@–≤–∞—à_–±–æ—Ç` –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:
1. `/start`
2. `üìÖ –ü–æ–∫–∞–∑–∞—Ç—å –∫–∞–ª–µ–Ω–¥–∞—Ä—å`
3. –¢–µ–∫—Å—Ç: `–°–æ–∑–¥–∞–π –Ω–∞ –∑–∞–≤—Ç—Ä–∞ –≤—Å—Ç—Ä–µ—á—É –≤ 15:00 –ø–æ –ø–æ–≤–æ–¥—É –≤–∏–¥–µ–æ`
4. –ì–æ–ª–æ—Å–æ–≤–æ–µ —Å —Å–æ–±—ã—Ç–∏–µ–º
5. PDF/–∞—Ñ–∏—à—É/–±–∏–ª–µ—Ç
6. –¢–µ–∫—Å—Ç –∑–∞–º–µ—Ç–∫–∏: `–¥–æ–±–∞–≤—å –∑–∞–º–µ—Ç–∫—É: –∫—É–ø–∏—Ç—å –º–∏–∫—Ä–æ—Ñ–æ–Ω`

---

## 9) –ê–≤—Ç–æ–∑–∞–ø—É—Å–∫ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ —Å–µ—Ä–≤–µ—Ä–∞

```bash
sudo loginctl enable-linger $USER
```

---

## 10) –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–æ –ø–æ—Å–ª–µ–¥–Ω–µ–π –≤–µ—Ä—Å–∏–∏

```bash
cd ~/tg_bot_clawd
./scripts/update.sh
```

---

## 11) –†—É—á–Ω–æ–π –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫

```bash
systemctl --user restart tg-bot-clawd.service
```

---

## –í–∞–∂–Ω–æ

- –ï—Å–ª–∏ `LOCAL` **–Ω–µ –∑–∞–¥–∞–Ω** –≤ `.env`, –±–æ—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **PostgreSQL**.
- –ï—Å–ª–∏ –Ω—É–∂–µ–Ω single-user —Ä–µ–∂–∏–º (–±–µ–∑ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤) ‚Äî –æ—Å—Ç–∞–≤–ª—è–π—Ç–µ –≤ `ALLOWED_TG_IDS` —Ç–æ–ª—å–∫–æ —Å–≤–æ–π ID.
- –î–ª—è –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è PDF/–∞—Ñ–∏—à/–≥–æ–ª–æ—Å–æ–≤—ã—Ö OpenClaw –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ.
